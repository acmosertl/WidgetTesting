<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡¶Æ‡¶æ‡¶ß‡¶¨‡¶Æ ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶≤‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞</title>
<style>
body{font-family:"Noto Sans Bengali",sans-serif;background:#fff6e9;margin:0;padding:0;text-align:center;}
.card{background:#b71c1c;color:#fff;margin:10px auto;padding:20px;border-radius:18px;width:90%;max-width:360px;
box-shadow:0 2px 10px rgba(0,0,0,0.15);}
.title{font-size:22px;font-weight:700;}
.sub{font-size:32px;font-weight:700;color:#ffea00;text-shadow:0 0 8px #ffb300;}
.date{font-size:16px;margin-top:8px;}
.loc{margin:12px 0;font-size:14px;color:#fff8e1;}
.btn{background:linear-gradient(90deg,#ffa000,#ffca28);border:none;border-radius:12px;padding:8px 16px;
font-size:15px;color:#4e342e;font-weight:600;cursor:pointer;margin-top:10px;}
.btn:hover{background:linear-gradient(90deg,#ffb300,#ffecb3);}
.small{font-size:13px;color:#4e342e;margin-top:10px;}
/* popup modal */
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.4);
backdrop-filter:blur(2px);z-index:99;justify-content:center;align-items:center;}
.modal-content{background:#fff3e0;color:#3e2723;border-radius:16px;padding:20px;width:90%;max-width:420px;
max-height:80vh;overflow-y:auto;box-shadow:0 4px 16px rgba(0,0,0,0.25);}
.modal-content h3{margin-top:0;font-size:20px;color:#6a1b9a;}
table{width:100%;border-collapse:collapse;margin-top:10px;}
th,td{border-bottom:1px solid #d7ccc8;padding:8px 4px;font-size:15px;text-align:center;}
th{background:#f3e5f5;color:#4a148c;}
.close{position:absolute;right:16px;top:12px;font-size:20px;color:#c62828;cursor:pointer;}
</style>
</head>
<body>
<div class="card" id="ekadashiCard">
  <div class="title">üå∏ ‡¶™‡¶∞‡¶¨‡¶∞‡ßç‡¶§‡ßÄ ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ</div>
  <div class="sub" id="ekaName">‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
  <div class="date" id="ekaDate">‚Äì</div>
  <div class="loc">üìç ‡¶≠‡¶æ‡¶∞‡¶§ ‚Ä¢ IST (UTC+05:30)</div>
  <button class="btn" onclick="openList()">üîî ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
  <div class="small">‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶ó‡¶£‡¶®‡¶æ ‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º ‡¶Æ‡¶æ‡¶® ‡¶∏‡¶Æ‡¶Ø‡¶º (IST) ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ‡•§</div>
</div>

<!-- Popup Modal -->
<div class="modal" id="listModal" onclick="closeModalOutside(event)">
  <div class="modal-content" id="modalContent">
    <span class="close" onclick="closeList()">‚úñ</span>
    <h3>üå∏ ‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ (IST)</h3>
    <table id="ekaTable">
      <thead><tr><th>‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ</th><th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th><th>‡¶™‡¶æ‡¶∞‡¶£</th></tr></thead>
      <tbody id="ekaBody"></tbody>
    </table>
  </div>
</div>

<script>
// Local fallback data (short sample)
const ekadashiList=[
 {name_bn:"‡¶â‡¶§‡ßç‡¶•‡¶æ‡¶® ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ",date:"‡ß®‡ß¶‡ß®‡ß´-‡ßß‡ßß-‡ß©‡ß¶",parana:"‡¶™‡¶∞‡ßá‡¶∞ ‡¶¶‡¶ø‡¶® ‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨:‡ß™‡ß¶-‡ßØ:‡ßß‡ß¶"},
 {name_bn:"‡¶Æ‡ßã‡¶ï‡ßç‡¶∑‡¶¶‡¶æ ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ",date:"‡ß®‡ß¶‡ß®‡ß´-‡ßß‡ß®-‡ßß‡ß™",parana:"‡¶™‡¶∞‡ßá‡¶∞ ‡¶¶‡¶ø‡¶® ‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨:‡ß©‡ß¶-‡ßÆ:‡ß´‡ß´"},
 {name_bn:"‡¶∏‡¶æ‡¶´‡¶≤‡ßç‡¶Ø‡¶æ ‡¶è‡¶ï‡¶æ‡¶¶‡¶∂‡ßÄ",date:"‡ß®‡ß¶‡ß®‡ß¨-‡ß¶‡ßß-‡ßß‡ß¶",parana:"‡¶™‡¶∞‡ßá‡¶∞ ‡¶¶‡¶ø‡¶® ‡¶∏‡¶ï‡¶æ‡¶≤ ‡ß¨:‡ß™‡ß´-‡ßØ:‡ßß‡ß´"}
];
function loadNext(){
  const now=new Date();const future=ekadashiList.find(e=>new Date(e.date.replace(/-/g,'-'))>now);
  if(!future)return;
  document.getElementById("ekaName").innerText=future.name_bn;
  document.getElementById("ekaDate").innerText=future.date+" ‚Ä¢ "+daysLeft(future.date)+" ‡¶¶‡¶ø‡¶® ‡¶¨‡¶æ‡¶ï‡¶ø";
}
function daysLeft(d){
  const diff=(new Date(d.replace(/-/g,'-'))-new Date())/86400000;
  return Math.ceil(diff);
}
function openList(){
  const body=document.getElementById("ekaBody");
  body.innerHTML="";
  ekadashiList.forEach(e=>{
    body.innerHTML+=`<tr><td>${e.name_bn}</td><td>${e.date}</td><td>${e.parana}</td></tr>`;
  });
  const modal=document.getElementById("listModal");
  modal.style.display="flex";
  window.parent.postMessage({madhabamResize:800},"*");
}
function closeList(){
  document.getElementById("listModal").style.display="none";
  window.parent.postMessage({madhabamResize:520},"*");
}
function closeModalOutside(e){
  if(e.target.id==="listModal"){closeList();}
}
loadNext();
</script>
</body>
</html>
